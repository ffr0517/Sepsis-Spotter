# Privacy Policy

Last updated: 31/08/2025

This Privacy Policy describes how the **Sepsis-Spotter API** (“we,” “our,” “the API”) handles data submitted for prediction. By using this API, you agree to the practices outlined below. This policy should be read alongside the project’s [README](./README.md) and OpenAPI specification.

---

## 1. Purpose of the API
The Sepsis-Spotter API provides programmatic access to predictive models of pediatric sepsis severity. The API accepts structured feature data (clinical and contextual variables) and returns probability estimates and decision classifications generated by pre-trained workflows (v1 and v2).  

This API is intended **solely for research, development, and evaluation purposes**. It is **not a medical device** and must not be used as a substitute for clinical judgment.

---

## 2. Data Submitted by Users
When calling the `/s1_infer` endpoint, users may provide a JSON payload containing clinical, demographic, and contextual predictors (e.g., age, vital signs, symptoms).  

- **Required/Optional Inputs:** Defined by the OpenAPI schema (`sepsis-spotter-api.yaml`).  
- **Normalization:** Inputs are automatically type-cast, missing predictors are inserted with `NA` stubs, and schema adjustments may be reported back in the response.  
- **No Direct Identifiers:** The schema does not require patient names, addresses, or personal identifiers. Any submission of personally identifiable information (PII) is the responsibility of the API user and is discouraged.  

---

## 3. Data Processing
The API performs the following steps on submitted payloads:  
1. **Model Loading**: Pre-trained workflows (`v1_model.rds`, `v2_model.rds`) are loaded into memory at server startup.  
2. **Schema Guard**: Incoming payloads are normalized to match the expected feature schema.  
3. **Prediction**: Both v1 and v2 models are executed, producing `.pred_Severe` and `.pred_NOTSevere`.  
4. **Decision Logic**: The two probabilities are merged via `combine_margin`, applying thresholds, margins, veto rules, and overrides to yield a final classification (Severe, NOTSevere, or Other).  
5. **Response**: The API returns model probabilities, thresholds, decision, rule invoked, warnings about schema adjustments, metadata (e.g., timing, hash), and an “info sheet.”  

---

## 4. Data Storage and Retention
- **No Persistent Storage:** The API does not persistently store incoming requests, outputs, or patient-level data.  
- **Transient Processing:** Data exist only in system memory during prediction and are discarded immediately after the response is generated.  
- **Logs:** Minimal server logs may include request timestamps, endpoint calls, and error messages, but not clinical content of payloads.  

---

## 5. Security
- **Containerized Deployment:** Distributed via Docker (rocker-based) with plumber and model RDS files copied into the image.  
- **Port Exposure:** The API runs on port 8000 (or configured alternative).  
- **Encryption:** Users are responsible for deploying the API behind HTTPS to ensure encryption in transit.  
- **Access Control:** Authentication and authorization must be implemented by the deployer (not bundled by default).  

---

## 6. User Responsibilities
- Ensure no PII or sensitive identifiers are submitted.  
- Ensure deployment is secured with encryption, authentication, and firewalls as appropriate for your environment.  
- Use predictions responsibly, acknowledging limitations of model performance and intended research-only purpose.  
- Comply with local regulations (GDPR, HIPAA, etc.) if handling personal health data.  

---

## 7. Third-Party Dependencies
The API uses R libraries (tidymodels, xgboost, plumber, etc.) and third-party container infrastructure (Docker). Each carries its own licensing and privacy implications. Users are encouraged to review these dependencies before deployment.  

---

## 8. Research and Evaluation Use Only
The Sepsis-Spotter API is a proof-of-concept and research tool.  
- **Not validated for clinical use.**  
- **Not certified as a medical device.**  
- **Not to be used for real-time clinical decision-making.**  

---

## 9. Changes to This Policy
This Privacy Policy may be updated periodically. Users should review the latest version before deploying or using the API.  

---

## 10. Contact
For questions about this API or its privacy practices, please contact the maintainers via the repository’s issue tracker.

